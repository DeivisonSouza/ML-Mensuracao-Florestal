<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Aprendizado de M√°quina  na Mensura√ß√£o Florestal:</title>
    <meta charset="utf-8" />
    <meta name="author" content=" Prof.¬†Dr.¬†Deivison Venicio Souza" />
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/remark-css/metropolis.css" rel="stylesheet" />
    <link href="libs/xaringanExtra-extra-styles/xaringanExtra-extra-styles.css" rel="stylesheet" />
    <script src="libs/kePrint/kePrint.js"></script>
    <link href="libs/lightable/lightable.css" rel="stylesheet" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Aprendizado de M√°quina <BR> na Mensura√ß√£o Florestal:
## T√©cnicas, Modelagem e Aplica√ß√£o Web <BR> <BR> <BR> <BR>
### <BR> Prof.¬†Dr.¬†Deivison Venicio Souza
### <div class="line-block">Universidade Federal do Par√° (UFPA) <BR> <BR></div>
### <p>.center[26/fevereiro/2021 <BR> Altamira, Par√° <BR> ]</p>

---


name: toc










# üëã Ol√°!

## &lt;bdi style="color:magenta;"&gt;1. Deivison Souza &lt;/bdi&gt;

.pull-left[
* &lt;bdi style="font-weight:bold"&gt;Gradua√ß√£o (Titula√ß√£o: ano 2008)&lt;/bdi&gt;
    + Universidade Federal Rural da Amaz√¥nia (UFRA); e
    + T√≠tulo: Bacharel em Engenharia Florestal.

* &lt;bdi style="font-weight:bold"&gt;Mestrado (Titula√ß√£o: ano 2011)&lt;/bdi&gt;
    + Universidade Federal Rural da Amaz√¥nia (UFRA);
    + Programa de P√≥s-gradua√ß√£o em Ci√™ncias Florestais (PPGCF); e
    + √Årea de Concentra√ß√£o: Manejo de ecossistemas florestais.
]

.pull-right[
* &lt;bdi style="font-weight:bold"&gt;Doutorado (Titula√ß√£o: ano 2020)&lt;/bdi&gt;
    + Universidade Federal do Paran√° (UFPR);
    + Programa de P√≥s-gradua√ß√£o em Engenharia Florestal (PPGEF); e
    + √Årea de Concentra√ß√£o: Manejo Florestal.
    
* &lt;bdi style="font-weight:bold"&gt;Especializa√ß√£o (Defesa: ano 2019)&lt;/bdi&gt;
    + Universidade Federal do Paran√° (UFPR);
    + √Årea: Big Data e Data Science
]

&lt;!-- Slide 2 --&gt;
---
background-image: url(fig/white.jpg)
background-size: cover
# Conte√∫do
&lt;b&gt;
.pull-top[
&lt;p style="font-weight:bold;"&gt; Parte 1 - Conceitos e fundamenta√ß√£o te√≥rica &lt;/p&gt;
[1 - Uma an√°lise de regress√£o...](#AM)

[2 - Tipos de Aprendizagem](#tipos)

[4 - Aprendizado de M√°quina com linguagem R](#AMLR)

[5 - Pacote CARET](#caret)
]

.pull-bottom[
&lt;p style="font-weight:bold;"&gt; Parte 2 - Aplica√ß√µes nas Ci√™ncias Florestais &lt;/p&gt;
[1 - Aplica√ß√µes nas ci√™ncias florestais](#aplicacoes)

[2 - Aprendizado de M√°quina no R: exemplo pr√°tico](#exemploR)

[3 - Aplica√ß√£o Web com MAM: um exemplo pr√°tico.](#shiny)
]

&lt;!--Slide 3 --&gt;
---
# Uma an√°lise de regress√£o...

.pull-left-2[
.blockquote[
.content-box-blue[**Motivos pr√°ticos para fazer uma an√°lise de regress√£o...**] &lt;br&gt;

- **Determina√ß√£o**: Vari√°veis dif√≠ceis de determinar em campo;
  - ex.: volume, biomassa, altura, etc.
- **Alto custo**: Almeja-se diminuir custos!
- **Larga escala**: Imagine fazer isso em larga escala! √â impratic√°vel!
- **Alternativa**: Usar m√©todos indiretos.
]
]

.pull-right-1[
&lt;img src="fig/imgCub.jpg" width="50%" style="display: block; margin: auto;" /&gt;
&lt;br&gt;
.center[**Nas florestas inequi√¢neas as dificuldades octuplicam!**]
]

**Regress√£o Linear**: M√©todo mais tradicional!

`\(v = \beta_0 + \beta_{1}(d^2h) + \epsilon_i\)` `\(\Rightarrow\)` **Spurr (1952)**

`\(ln (v) = ln\beta_0 + \beta_{1}ln(d) + \beta_{2}ln(h) + \epsilon_i\)` `\(\Rightarrow\)` **Schumacher-Hall (1933)**

&lt;!--Slide 4 --&gt;
---
# Uma an√°lise de regress√£o...

.blockquote[
.content-box-blue[**Motivos estat√≠sticos para fazer uma an√°lise de regress√£o...**] (Izbicki and Santos, 2020) &lt;br&gt;

- **Inferencial**: Tirar conclus√µes sobre a popula√ß√£o:
  - Interpretar par√¢metros;
  - Estimar os intervalos de confian√ßa (IC) dos par√¢metros; e
  - Testes de hip√≥teses (normalidade, homocedasticidade dos res√≠duos, etc.) `\(\Rightarrow\)` .content-box-red[Suposi√ß√µes da RL]

*Por exemplo:* Admitindo o modelo `\(v = \beta_0 + \beta_1d + \epsilon_i\)` (**Berkhout**)

Qual a rela√ß√£o entre `\(v\)` e o `\(d\)`?

Qual efeito no volume para uma unidade de mudan√ßa no di√¢metro da √°rvore?

- **Preditivista**: Estimar uma fun√ß√£o de regress√£o `\(f(x)\)` com bom poder preditivo! .content-box-red[O foco √© na predi√ß√£o!]
]

--

.content-box-blue[
.center[**Portanto, para um determinado problema o foco pode ser claramente inferencial ou preditivo, e para outros pode ser a mistura de ambos** (Izbicki and Santos, 2020).]
]

&lt;!--Slide 5 --&gt;
---
# As duas culturas...(Breiman, 2001)

.pull-left-2[
.blockquote[
.content-box-blue[**Culturas no uso de modelos estat√≠sticos...**]
&lt;br&gt;

- **Data modeling culture**
  - *Objetivo principal*: .content-box-red[infer√™ncia]
  - *Predomina*: comunidade estat√≠stica


- **Algorithmic modeling culture**
  - *Objetivo principal*: .content-box-red[predi√ß√£o] (construir algoritmos com bom poder preditivo!)
  - *Predomina*: comunidade de aprendizado de m√°quina
]
]

.pull-right-1[
&lt;img src="fig/Breiman.jpg" width="70%" style="display: block; margin: auto;" /&gt;
&lt;br&gt;
.center[**Leo Breiman**]
.center[Fonte: [en.wikipedia.org](https://en.wikipedia.org/wiki/Leo_Breiman)]
]

.content-box-blue[.center[Statistical modeling: The two cultures (Breiman, 2001).]
]

&lt;!--Slide 6 --&gt;
---
name: AM
# Aprendizado de M√°quina (*Machine Learning*)

**Hist√≥ria:**
- Surgiu em 1959;
- Arthur Lee Samuel: Cunhou pela primeira vez o termo *Machine Learning*; e
- Manuscrito: .blue[*Some Studies in Machine Learning Using the Game of Checkers*] &lt;a id='cite-samuel1959some'&gt;&lt;/a&gt;(&lt;a href='https://doi.org/10.1147/rd.33.0210'&gt;Samuel, 1959&lt;/a&gt;).

--

.pull-left[
.blockquote[
**Defini√ß√£o:** &lt;br&gt;
√â um .content-box-red[subconjunto de intelig√™ncia artificial] que frequentemente usa t√©cnicas estat√≠sticas para dar aos computadores a capacidade de .content-box-red["aprender"] com dados, sem serem explicitamente programados. &lt;br&gt;

.tr[
‚Äî (Parafraseado de Arthur Lee Samuel, 1959)
]
]
]

.pull-right[
Arthur Samuel demonstrates how machine &lt;br&gt; learning can be used to play checkers in 1962.
&lt;img src="fig/ArtSam.jpg" width="80%" style="display: block; margin: auto auto auto 0;" /&gt;
.left[.footnote[Fonte: [artsandculture.google.com](https://artsandculture.google.com/asset/arthur-samuel-demonstrates-how-machine-learning-can-be-used-to-play-checkers-in-1962-ibm-watson-media/vgH46mpas8dL4g)]]
]

&lt;!--Slide 7 --&gt;
---
# Aprendizado de M√°quina (*Machine Learning*)

.pull-left[
.blockquote[
**Tom Mitchel**&lt;br&gt;
Pode-se afirmar que um programa de computador aprende uma
**Experi√™ncia E** a respeito de uma **Tarefa T** e alguma medida de **Desempenho P**, se seu desempenho em *T*, medido por *P*, melhora com a experi√™ncia *E*.
]
]

.pull-right[
.blockquote[
**Aur√©lien G√©ron**&lt;br&gt;
√â a ci√™ncia (e arte) de programar computadores de tal forma que eles aprendam a partir de dados (G√©ron, 2017).
]
]

&lt;!--Slide 8 --&gt;
---
# Tipos de Aprendizagem

.blockquote[
.content-box-blue[**Aprendizado Supervisionado:**]

- **Objetivo principal**:

Dado as medidas `\(\left(x_1, y_1\right)\)`, . . . , `\(\left(x_n, y_n\right)\)`, o objetivo √© estimar uma fun√ß√£o `\(f(x)\)` para predizer um novo valor de `\(y\)` baseado em `\(x\)`.

- **Tipos de problemas**: classifica√ß√£o e regress√£o.

- **Vari√°vel resposta**: Existe (dados rotulados).
]

--

.blockquote[
.content-box-blue[**Aprendizado n√£o-Supervisionado:**]
- **Tipos de problemas**: agrupamento, redu√ß√£o de dimensionalidade e associa√ß√£o.
    - **Objetivo principal**: Descobrir estruturas subjacentes;
    - **Vari√°vel resposta**: N√£o existe (dados n√£o rotulados)
]


&lt;!--Slide 9 --&gt;
---
name: tipos
# Tipos de Aprendizagem

&lt;img src="fig/ML.png" width="80%" style="display: block; margin: auto;" /&gt;
.left[.footnote[Fonte: O Autor.]]

&lt;!--Slide 10 --&gt;
---
# A id√©ia de "Supervisionar"...

.blockquote[
**Em um conjunto de dados...** &lt;br&gt;

(..) para cada observa√ß√£o de preditora(s), `\(x_{i}\)` (i = 1, ..., n), existe uma resposta associada `\(y_{i}\)` (James, et al., 2013).
] &lt;br&gt;

\[
\normalsize
\underbrace{
\overbrace{\begin{bmatrix}
x_{11} &amp; x_{12} &amp; \cdots &amp; x_{1n} \\
x_{21} &amp; x_{22} &amp; \cdots &amp; x_{2n} \\
\vdots &amp; \vdots &amp; \ddots &amp; \vdots \\
x_{n1} &amp; x_{n2} &amp; \cdots &amp; x_{nn}
  \end{bmatrix}
    }^{\mathbf{X}}
    }_{\mathbf{Preditoras}}
\underbrace{
\overbrace{
  \begin{bmatrix}
    y_1     \\
    y_2     \\
    \vdots  \\
    y_n     \\
  \end{bmatrix}
    }^{\mathbf{y}}
    }_{\mathbf{Resposta}}
\]

.blockquote[
**O papel de Supervisor...** &lt;br&gt;
A id√©ia √© que cada `\(y_{i}\)` exer√ßa um papel de .content-box-red[‚ÄúProfessor‚Äù], respons√°vel por .content-box-red[‚ÄúSupervisionar‚Äù] o processo de aprendizagem de uma
fun√ß√£o `\(f(x)\)` (Hastie, Tibshirani, and Friedman, 2016).
]

&lt;!--Slide 11 --&gt;
---
# Um conjunto de dados...
&lt;br&gt;
.pull-left-3[
&lt;table class=" lightable-classic" style="font-family: Cambria; width: auto !important; margin-left: auto; margin-right: auto;"&gt;
&lt;caption&gt;Dados fict√≠cios para 10 √°rvores de duas esp√©cies florestais.&lt;/caption&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Especie &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; DAP &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; H &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Cipo &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; QF &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Selecao &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Swietenia macrophylla &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 33.6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 9.1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Sim &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Protegida &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Swietenia macrophylla &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 42.6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 13.2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; N√£o &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Protegida &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Swietenia macrophylla &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 52.1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 15.4 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Sim &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Protegida &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Hymenolobium petraeum &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 80.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 18.6 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; N√£o &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Explorar &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Hymenolobium petraeum &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 90.8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 19.5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Sim &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Explorar &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Hymenolobium petraeum &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 49.4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 16.8 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; N√£o &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Remanescente &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Hymenolobium petraeum &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 70.5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 17.9 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Sim &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Explorar &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Hymenolobium petraeum &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 100.5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 22.4 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; N√£o &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Remanescente &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Swietenia macrophylla &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 60.7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 15.3 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Sim &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Protegida &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Swietenia macrophylla &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 27.1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 8.7 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Sim &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Protegida &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]

--

.pull-right-3[
.center[**Terminologias**]

1. Comunidade de aprendizado de m√°quina:
- **Inst√¢ncias/exemplos**: dados individuais.
- **Atributos/caracter√≠sticas/features:**
    - Caracter√≠sticas mensur√°veis de uma inst√¢ncia.
- **Vari√°vel resposta/labels/classe**: 
    - Vari√°vel de interesse para predi√ß√£o.

*Tipos de atributos*: bin√°rios, categ√≥ricos, num√©ricos.

]

&lt;!--Slide 12 --&gt;
---
# At√© aqui...
&lt;br&gt;

.shadow[
- **Motivos para fazer regress√£o**: pr√°ticos e estat√≠sticos;

- **Duas Culturas no uso de ME**: DMC e .content-box-red[AMC];

- **Algorithmic modeling culture**: relaciona-se ao campo de .content-box-red[Aprendizado de M√°quina];

- **Tipos de Aprendizado**: .content-box-red[Supervisionado] e N√£o-Supervisionado;

- **Aprendizado Supervisionado**: estimar uma fun√ß√£o `\(f(x)\)` para predizer um novo valor de `\(y\)` baseado em `\(x\)`. Se `\(y\)` for um n√∫mero real (n√∫merico) tem-se um .content-box-red[problema de regress√£o].
]&lt;br&gt;

.center[
.font150[
Quais algoritmos existentes para estimar `\(\Large{f\left(x\right)}\)`?
]
]

&lt;!--Slide 13 --&gt;
---
# Algoritmos de AS

**- Alguns dos principais algoritmos para problemas de regress√£o:**

.pull-left[
&lt;img src="fig/Tec.png" width="100%" style="display: block; margin: auto;" /&gt;
.left[.footnote[Fonte: O Autor.]]
]

--

.pull-rigth[
.center[**Pacote CARET** &lt;br&gt;

Mais de 200 algoritmos para aprendizado supervisionado.
(Kuhn and Johnson, 2013; Kuhn, 2018). &lt;br&gt;

Web page: [CARET Package](https://topepo.github.io/caret/index.html)

]
]

&lt;!--Slide 14 --&gt;
---
# Iniciar apresenta√ß√£o de algumas t√©cnicas
- Antes, fazer uma introdu√ß√£o informando a ideia de predizer
a f(x), e portanto existente in√∫meras t√©cnicas de AM para isso...Obviamente, falar que a primeira ideia √© fazer RL...
- Usar base de dados de nativa (falar com Bruno), selecionar algumas √°rvores...
- Inserir uma figura com as principais t√©cnicas de IA
- No CART:
 . Iniciar: mostrando uma √°rvore e explicando seus elementos;
 . mostrar o passo a passo das divis√µes bin√°rias (figura);
 . Detalhar o calculo matem√°tico, baseando-se nos dados usados
 para criar a √°rvore mostrada...

&lt;!--Slide 13 --&gt;
---
name: AS
# Aprendizado Supervisionado

&lt;img src="fig/intuicao-ML.png" width="80%" style="display: block; margin: auto;" /&gt;

.left[.footnote[Fonte: O Autor.]] 

---
# Avalia√ß√£o de modelos

---
# Underfitting e Overfitting

---
# Divis√£o de dados

.blockquote[
Em geral, na literatura de AM reporta-se a tr√™s tipos de conjuntos de dados (Witten, et al., 2017):

- **Conjunto de aprendizado** (treino) 
    - Usado para construir os modelos preditivos (classifica√ß√£o ou regress√£o).
    
    
- **Conjunto de valida√ß√£o**
    - Usado para otimizar os hiperpar√¢metros dos modelos e escolher a configura√ß√£o de melhor desempenho preditivo.
    

- **Conjunto de teste**
  - Usado para estimar o desempenho preditivo final do modelo otimizado (tuning model). 
    
]
---
# M√©todos de Reamostragem

.blockquote[

- **Hold-out validation**
    - Separa 2/3 para treinamento e 1/3 para teste.
    
- **k-fold Cross-Validation**
    - Particiona o conjunto de treino em *k* subconjuntos
disjuntos (*k*-1), e testa no conjunto de valida√ß√£o (hold-out).
    
- **Leave-one-out Cross-Validation**
  - k=n

- **Bootstrap**
  - Amostragem com reposi√ß√£o.
]


&lt;!--Slide6 --&gt;
---
name: MAM
# Um modelo de aprendizado de m√°quina: CART

&lt;img src="fig/CART.png" width="80%" style="display: block; margin: auto;" /&gt;

.left[.footnote[Fonte: O Autor.]] 

---
name: aplicacoes
# Aplica√ß√µes nas ci√™ncias florestais

&lt;img src="fig/MindMap.png" width="57%" style="display: block; margin: auto;" /&gt;

.left[.footnote[Fonte: O Autor.]]

---
name: AMIF
# AM no Invent√°rio Florestal: estudos indicam potencial!

&lt;img src="fig/ML-TEC.png" width="80%" style="display: block; margin: auto;" /&gt;
.left[.footnote[Fonte: O Autor.]]


```r
Citep(myBib, c("diamantopoulou2010modelling", "nieto2012support", "sanquetta2013use", "diamantopoulou2005artificial", "ozccelik2010estimating", "schikowski2015estudo", "nunes2016artificial", "Corte2020", "montano2017artificial", "korhonen1997application", "maltamo2001most", "fehrmann2008comparison", "sanquetta2015comparison", "sanquetta2018volume", "souza2019",
               "james2013introduction"))
```

```
## [1] "(Diamantopoulou and Milios, 2010; Nieto, Torres, Fern√°ndez, and Gal√°n, 2012; Sanquetta, Wojciechowski, Dalla Corte, Rodrigues, and Maas, 2013; Diamantopoulou, 2005; √ñz√ßelik, Diamantopoulou, Brooks, and Wiant Jr, 2010; Schikowski, Corte, and Sanquetta, 2015; Nunes and G√∂rgens, 2016; Corte, Souza, Rex, Sanquetta, Mohan, Silva, Zambrano, Prata, de\nAlmeida, Trautenm√ºller, Klauberg, de\nMoraes, Sanquetta, Wilkinson, and Broadbent, 2020; Monta√±o, Sanquetta, Wojciechowski, Mattar, Dalla Corte, and Todt, 2017; Korhonen and Kangas, 1997; Maltamo and Eerikainen, 2001; Fehrmann, Lehtonen, Kleinn, and Tomppo, 2008; Sanquetta, Wojciechowski, Dalla Corte, Behling, Netto, Rodrigues, and Sanquetta, 2015; Sanquetta, Piva, Wojciechowski, Corte, and Schikowski, 2018; Souza, Nievola, Santos, Wojciechowski, Gon√ßalves, Corte, and Sanquetta, 2019; James, Witten, Hastie, et al., 2013)"
```

---
name: AMLR
class: middle, center
# Aprendizado de m√°quina com linguagem R

.pull-left[

.thick[Alguns pacotes publicados no Cran Task View: Machine Learning &amp; Statistical learning]

&lt;img src="fig/ML-FR.png" width="85%" style="display: block; margin: auto;" /&gt;
]

.pull-right[
&lt;BR&gt; &lt;BR&gt; &lt;BR&gt; &lt;BR&gt; &lt;BR&gt;
.thick[Veja outros pacotes dispon√≠veis em Task View:]

[Machine Learning &amp; Statistical learning](https://cran.r-project.org/)

&lt;BR&gt; &lt;BR&gt;
.thick[Web scraping feito em 21/07/2018:]

At√© julho de 2018 existiam 102 pacotes sobre AM
publicados no CRAN Task View.
]

.left[.footnote[Fonte: O Autor.]]

---
name: caret
background-image: url(fig/white.jpg)
background-size: cover

# Pacote CARET: um framework para aprendizado de m√°quina

.font300[.thick[CARET]]
	
.font200[(.red[C]lassication .red[A]nd .red[Re]gression .red[T]raining)]
	
(Kuhn and Johnson, 2013; Kuhn, 2018).
		
.font120["Constitui um conjunto de fun√ß√µes que tentam simplificar &lt;br&gt; o processo de constru√ß√£o de modelos preditivos."]

&lt;br&gt; &lt;br&gt; &lt;br&gt;

Web page: [CARET Package](https://topepo.github.io/caret/index.html)

.left[.footnote[Imagem de &lt;a href="https://pixabay.com/pt/users/pen_ash-5526837/?utm_source=link-attribution&amp;amp;utm_medium=referral&amp;amp;utm_campaign=image&amp;amp;utm_content=5358904"&gt;pen_ash&lt;/a&gt; por &lt;a href="https://pixabay.com/pt/?utm_source=link-attribution&amp;amp;utm_medium=referral&amp;amp;utm_campaign=image&amp;amp;utm_content=5358904"&gt;Pixabay&lt;/a&gt;]]
---
# Pacote CARET: Ferramentas

&lt;img src="fig/CARET.png" width="50%" style="display: block; margin: auto;" /&gt;

---
name: fluxo
background-image: url(fig/white.jpg)
background-size: cover

# Fluxograma - Constru√ß√£o de modelos de AM usando CARET

&lt;img src="fig/FM.png" width="90%" style="display: block; margin: auto;" /&gt;
.left[.footnote[Fonte: Souza (2020).]]

---
name: exemploR
background-image: url(fig/imgC.jpg)
background-size: cover

&lt;br&gt; &lt;br&gt; &lt;br&gt; &lt;br&gt; &lt;br&gt;
## .thick[.black[MACHINE LEARNING NO R]]

&lt;br&gt; &lt;br&gt;
.left[.thick[.black[Acesse o R-script:]]

[01-wkNN](https://deivisonsouza.github.io/IA-Potencial-IF/R-scripts/01-wkNN.R)

.thick[.black[Acesse os dados:]]

[Tectona-grandis](https://deivisonsouza.github.io/IA-Potencial-IF/R-scripts/Tectona.csv)]

.left[.footnote[Cr√©ditos: Imagem de .green[Willas Lima].]]
---
name: shiny
background-image: url(fig/white.jpg)
background-size: cover

## .thick[.black[Como disponibilizar os modelos de aprendizado de m√°quina?]]

.pull-left[
&lt;img src="fig/sh.png" width="20%" style="display: block; margin: auto;" /&gt;

.thick[.black[Biblioteca Shiny]]

.black[Biblioteca que facilita a cria√ß√£o de aplicativos da Web interativos usando diretamente a Linguagem R.]

.thick[.black[Shinyapps.io:]]

.black[Servidor gratuito para hospedar os aplicativos Shiny.]
&lt;BR&gt;

.thick[.black[Acesse aplica√ß√µes Web para predi√ß√£o de biomassa e volume: (Souza, 2020)]]

.font80[
[1-Shiny-MLMBio-Biomassa](https://deivisonsouza.shinyapps.io/MLBiomass/)

[2-Shiny-MLMVol-Volume](https://deivisonsouza.shinyapps.io/MLVolume/)
]
]

.column-right[
.thick[.black[Acesse a base para uso na aplica√ß√£o MLMBio:]] [Biomass-data](https://deivisonsouza.github.io/IA-Potencial-IF/R-scripts/data.csv)]

]

---
# Refer√™ncias
&lt;br&gt;

&lt;p&gt;&lt;cite&gt;Breiman, L.
(2001).
&amp;ldquo;Statistical modeling: The two cultures (with comments and a rejoinder by the author)&amp;rdquo;.
In: &lt;em&gt;Statistical science&lt;/em&gt; 16.3, pp. 199&amp;ndash;231.
DOI: &lt;a href="https://doi.org/10.1214/ss/1009213726"&gt;10.1214/ss/1009213726&lt;/a&gt;.&lt;/cite&gt;&lt;/p&gt;

&lt;p&gt;&lt;cite&gt;Corte, A. P. D., D. V. Souza, F. E. Rex, et al.
(2020).
&amp;ldquo;Forest inventory with high-density UAV-Lidar: Machine learning approaches for predicting individual tree attributes&amp;rdquo;.
In: &lt;em&gt;Computers and Electronics in Agriculture&lt;/em&gt; 179, p. 105815.
DOI: &lt;a href="https://doi.org/10.1016/j.compag.2020.105815"&gt;10.1016/j.compag.2020.105815&lt;/a&gt;.&lt;/cite&gt;&lt;/p&gt;

&lt;p&gt;&lt;cite&gt;Diamantopoulou, M. J.
(2005).
&amp;ldquo;Artificial neural networks as an alternative tool in pine bark volume estimation&amp;rdquo;.
In: &lt;em&gt;Computers and electronics in agriculture&lt;/em&gt; 48.3, pp. 235&amp;ndash;244.
DOI: &lt;a href="https://doi.org/10.1016/j.compag.2005.04.002"&gt;10.1016/j.compag.2005.04.002&lt;/a&gt;.&lt;/cite&gt;&lt;/p&gt;

&lt;p&gt;&lt;cite&gt;Diamantopoulou, M. J. and E. Milios
(2010).
&amp;ldquo;Modelling total volume of dominant pine trees in reforestations via multivariate analysis and artificial neural network models&amp;rdquo;.
In: &lt;em&gt;Biosystems engineering&lt;/em&gt; 105.3, pp. 306&amp;ndash;315.
DOI: &lt;a href="https://doi.org/10.1016/j.biosystemseng.2009.11.010"&gt;10.1016/j.biosystemseng.2009.11.010&lt;/a&gt;.&lt;/cite&gt;&lt;/p&gt;

&lt;p&gt;&lt;cite&gt;Fehrmann, L., A. Lehtonen, C. Kleinn, et al.
(2008).
&amp;ldquo;Comparison of linear and mixed-effect regression models and ak-nearest neighbour approach for estimation of single-tree biomass&amp;rdquo;.
In: &lt;em&gt;Canadian Journal of Forest Research&lt;/em&gt; 38.1, pp. 1&amp;ndash;9.
DOI: &lt;a href="https://doi.org/10.1139/X07-119"&gt;10.1139/X07-119&lt;/a&gt;.&lt;/cite&gt;&lt;/p&gt;
---
# Refer√™ncias
&lt;br&gt;

&lt;p&gt;&lt;cite&gt;G√©ron, A.
(2017).
&lt;em&gt;Hands-On Machine Learning with Scikit-Learn and TensorFlow: Concepts, Tools, and Techniques to Build Intelligent Systems&lt;/em&gt;.
O'Reilly Media.
ISBN: 1491962291.
URL: &lt;a href="https://www.xarg.org/ref/a/1491962291/"&gt;https://www.xarg.org/ref/a/1491962291/&lt;/a&gt;.&lt;/cite&gt;&lt;/p&gt;

&lt;p&gt;&lt;cite&gt;Hastie, T., R. Tibshirani, and J. Friedman
(2016).
&lt;em&gt;The Elements of Statistical Learning: Data Mining, Inference, and Prediction&lt;/em&gt;.
New York: Springer.
745 pp.&lt;/cite&gt;&lt;/p&gt;

&lt;p&gt;&lt;cite&gt;Izbicki, R. and T. M. Santos
(2020).
&lt;em&gt;Aprendizado de m√°quina: uma abordagem estat\'istica&lt;/em&gt;.
268 pp.
ISBN: 978-65-00-02410-4.&lt;/cite&gt;&lt;/p&gt;

&lt;p&gt;&lt;cite&gt;James, G., D. Witten, T. Hastie, et al.
(2013).
&lt;em&gt;An introduction to statistical learning&lt;/em&gt;.
Vol. 112.
Springer.&lt;/cite&gt;&lt;/p&gt;

&lt;p&gt;&lt;cite&gt;Korhonen, K. T. and A. Kangas
(1997).
&amp;ldquo;Application of nearest-neighbour regression for generalizing sample tree information&amp;rdquo;.
In: &lt;em&gt;Scandinavian Journal of Forest Research&lt;/em&gt; 12.1, pp. 97&amp;ndash;101.
DOI: &lt;a href="https://doi.org/10.1080/02827589709355389"&gt;10.1080/02827589709355389&lt;/a&gt;.&lt;/cite&gt;&lt;/p&gt;
---
# Refer√™ncias
&lt;br&gt;

&lt;p&gt;&lt;cite&gt;Kuhn, M.
(2018).
&lt;em&gt;caret: Classification and Regression Training&lt;/em&gt;.
R package version 6.0-79.
URL: &lt;a href="https://CRAN.R-project.org/package=caret"&gt;https://CRAN.R-project.org/package=caret&lt;/a&gt;.&lt;/cite&gt;&lt;/p&gt;

&lt;p&gt;&lt;cite&gt;Kuhn, M. and K. Johnson
(2013).
&lt;em&gt;Applied predictive modeling&lt;/em&gt;.
Vol. 810.
Springer.&lt;/cite&gt;&lt;/p&gt;

&lt;p&gt;&lt;cite&gt;Maltamo, M. and K. Eerikainen
(2001).
&amp;ldquo;The most similar neighbour reference in the yield prediction of Pinus kesiya stands in Zambia&amp;rdquo;.
In: &lt;em&gt;Silva Fennica&lt;/em&gt; 35.4, pp. 437&amp;ndash;451.
DOI: &lt;a href="https://doi.org/10.14214/sf.579"&gt;10.14214/sf.579&lt;/a&gt;.&lt;/cite&gt;&lt;/p&gt;

&lt;p&gt;&lt;cite&gt;Monta√±o, R. A. N. R., C. R. Sanquetta, J. Wojciechowski, et al.
(2017).
&amp;ldquo;Artificial Intelligence Models to Estimate Biomass of Tropical Forest Trees&amp;rdquo;.
In: &lt;em&gt;Polibits&lt;/em&gt; 56, pp. 29&amp;ndash;37.
DOI: &lt;a href="https://doi.org/10.17562/PB-56-4"&gt;10.17562/PB-56-4&lt;/a&gt;.&lt;/cite&gt;&lt;/p&gt;

&lt;p&gt;&lt;cite&gt;Nieto, P. G., J. M. Torres, M. A. Fern√°ndez, et al.
(2012).
&amp;ldquo;Support vector machines and neural networks used to evaluate paper manufactured using Eucalyptus globulus&amp;rdquo;.
In: &lt;em&gt;Applied Mathematical Modelling&lt;/em&gt; 36.12, pp. 6137&amp;ndash;6145.
DOI: &lt;a href="https://doi.org/10.1016/j.apm.2012.02.016"&gt;10.1016/j.apm.2012.02.016&lt;/a&gt;.&lt;/cite&gt;&lt;/p&gt;
---
# Refer√™ncias
&lt;br&gt;

&lt;p&gt;&lt;cite&gt;Nunes, M. H. and E. B. G√∂rgens
(2016).
&amp;ldquo;Artificial intelligence procedures for tree taper estimation within a complex vegetation mosaic in Brazil&amp;rdquo;.
In: &lt;em&gt;PloS one&lt;/em&gt; 11.5, p. e0154738.
DOI: &lt;a href="https://doi.org/10.1371/journal.pone.0154738"&gt;10.1371/journal.pone.0154738&lt;/a&gt;.&lt;/cite&gt;&lt;/p&gt;

&lt;p&gt;&lt;cite&gt;√ñz√ßelik, R., M. J. Diamantopoulou, J. R. Brooks, et al.
(2010).
&amp;ldquo;Estimating tree bole volume using artificial neural network models for four species in Turkey&amp;rdquo;.
In: &lt;em&gt;Journal of environmental management&lt;/em&gt; 91.3, pp. 742&amp;ndash;753.
DOI: &lt;a href="https://doi.org/10.1016/j.jenvman.2009.10.002"&gt;10.1016/j.jenvman.2009.10.002&lt;/a&gt;.&lt;/cite&gt;&lt;/p&gt;

&lt;p&gt;&lt;cite&gt;&lt;a id='bib-samuel1959some'&gt;&lt;/a&gt;&lt;a href="#cite-samuel1959some"&gt;Samuel, A. L.&lt;/a&gt;
(1959).
&amp;ldquo;Some studies in machine learning using the game of checkers&amp;rdquo;.
In: &lt;em&gt;IBM Journal of research and development&lt;/em&gt;, pp. 211&amp;ndash;229.
DOI: &lt;a href="https://doi.org/10.1147/rd.33.0210"&gt;10.1147/rd.33.0210&lt;/a&gt;.&lt;/cite&gt;&lt;/p&gt;

&lt;p&gt;&lt;cite&gt;Sanquetta, C. R., L. R. Piva, J. Wojciechowski, et al.
(2018).
&amp;ldquo;Volume estimation of Cryptomeria japonica logs in southern Brazil using artificial intelligence models&amp;rdquo;.
In: &lt;em&gt;Southern Forests: a Journal of Forest Science&lt;/em&gt; 80.1, pp. 29&amp;ndash;36.
DOI: &lt;a href="https://doi.org/10.2989/20702620.2016.1263013"&gt;10.2989/20702620.2016.1263013&lt;/a&gt;.&lt;/cite&gt;&lt;/p&gt;

---
background-image: url(fig/white.jpg)
background-size: cover

.pull-left[
.font300[Obrigado!]
 &lt;br&gt; &lt;br&gt; &lt;br&gt;

**Email**: &lt;a href="mailto:deivisonvs@ufpa.br"&gt;deivisonvs@ufpa.br&lt;/a&gt;

**Github**: &lt;a href="https://github.com/DeivisonSouza"&gt;@DeivisonSouza&lt;/a&gt;

&lt;br&gt;

.shadow[
Os slides, c√≥digos e demais arquivos desta apresenta√ß√£o est√£o dispon√≠veis no reposit√≥rio GitHub: [ML-Mensuracao-Florestal](https://github.com/DeivisonSouza/ML-Mensuracao-Florestal).
]
]

&lt;!-- # Modelagem preditiva: linguagens (softwares) e frameworks --&gt;

&lt;!-- ```{r, engine='tikz', cache=TRUE, echo=FALSE, out.width='50%', fig.ext = 'png', bg = "transparent"} --&gt;
&lt;!-- \usetikzlibrary{mindmap} --&gt;
&lt;!-- \begin{tikzpicture} --&gt;
&lt;!-- 		[mindmap, --&gt;
&lt;!-- 		every node/.style={concept, execute at begin node=\hskip0pt, font=\bfseries}, --&gt;
&lt;!-- 		root concept/.append style={concept color=black, fill=white, line width=1ex, text=black, font=\huge\bfseries}, --&gt;
&lt;!-- 		method a/.style={concept color=red, line width=1ex, text=white}, --&gt;
&lt;!-- 		method b/.style={concept color=orange, line width=1ex, text=white}, --&gt;
&lt;!-- 		method c/.style={concept color=brown, line width=1ex, text=white}, --&gt;
&lt;!-- 		methods a/.style={concept color=red!50, line width=1ex, text=black}, --&gt;
&lt;!-- 		methods b/.style={concept color=orange!50, line width=1ex, text=black}, --&gt;
&lt;!-- 		methods c/.style={concept color=brown!50, line width=1ex, text=black}, --&gt;
&lt;!-- 		grow cyclic, --&gt;
&lt;!-- 		level 1/.append style={level distance=4.5cm, sibling angle=60}, --&gt;
&lt;!-- 		level 2/.append style={level distance=3cm, sibling angle=45}] --&gt;
&lt;!-- 		\node [root concept] {Liguagens/ \\ Software} % root --&gt;
&lt;!-- 		child [missing] {} --&gt;
&lt;!-- 		child [missing] {} --&gt;
&lt;!-- 		child [missing] {} --&gt;
&lt;!-- 		child [method a] { node {Python} --&gt;
&lt;!-- 			child [methods a] { node {A1} } --&gt;
&lt;!-- 			child [methods a] { node {A2} } --&gt;
&lt;!-- 			child [methods a] { node {A3} } --&gt;
&lt;!-- 			child [methods a] { node {A4} } --&gt;
&lt;!-- 			child [methods a] { node {A5} } --&gt;
&lt;!-- 			child [methods a] { node {A6} } --&gt;
&lt;!-- 			child [methods a] { node {A7} } } --&gt;
&lt;!-- 		child [missing] {} --&gt;
&lt;!-- 		child [method b] { node {R} --&gt;
&lt;!-- 			child [methods b] { node {B1} } --&gt;
&lt;!-- 			child [methods b] { node {B2} } --&gt;
&lt;!-- 			child [methods b] { node {B3} } --&gt;
&lt;!-- 			child [methods b] { node {B4} } --&gt;
&lt;!-- 			child [methods b] { node {B5} } --&gt;
&lt;!-- 			child [methods b] { node {B6} } --&gt;
&lt;!-- 			child [methods b] { node {B7} } } --&gt;
&lt;!-- 		child [missing] {} --&gt;
&lt;!-- 		child [method c] { node {Weka} --&gt;
&lt;!-- 			child [methods c] { node {C1} } --&gt;
&lt;!-- 			child [methods c] { node {C2} } --&gt;
&lt;!-- 			child [methods c] { node {C3} } --&gt;
&lt;!-- 			child [methods c] { node {C4} } --&gt;
&lt;!-- 			child [methods c] { node {C5} } --&gt;
&lt;!-- 			child [methods c] { node {C6} } --&gt;
&lt;!-- 			child [methods c] { node {C7} } }; --&gt;
&lt;!-- 		\end{tikzpicture} --&gt;
&lt;!-- ``` --&gt;
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "idea",
"highlightLines": true,
"highlightLanguage": "r",
"countIncrementalSlides": false,
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>
<style>
/***********
 Slide margins and spacings
 ***********/
 /*
.remark-slide-content {
  padding-top: 25px;
  padding-left: 50px;
  padding-right: 50px;
  padding-bottom: 25px;
  border-image: url(fig/flw.jpg) 50 round;
}
*/

.remark-slide-content {
  background-color: #FAFAFA;
  /*border-top: 80px solid #23373B;*/
  border-image: url(fig/flw.jpg) 50 round;
  font-size: 20px;
  font-weight: 300;
  line-height: 1.5;
  padding: 1em 2em 1em 2em;
}

.title-slide .inverse .remark-slide-content {
  background-color: #FAFAFA;
}


/*
To specify the margin of the first title h1
*/
.remark-slide-content > h1:first-of-type {
  margin-top: -95px;
  margin-bottom: 10px;
}

.remark-slide-content > h2:first-of-type {
  color: #ffffff;
  margin-top: 5px;
  margin-bottom: 10px;
}
.remark-slide-content > h3:first-of-type {
  margin-top: 5px;
  margin-bottom: 10px;
}
.remark-slide-content > h4:first-of-type {
  margin-top: 5px;
  margin-bottom: 10px;
}

/*
Remove linha central do slide de titulo
*/
hr, .title-slide h2::after, .mline h1::after {
  content: '';
  display: block;
  border: none;
  background-color: transparent;
  color: none;
  height: 1px;
  margin-right: 10px;
}

/*************************
Font Size
**************************/
.font150 {
  font-size: 150%;
}


/*************************
  Custom classes
**************************/

.pull-left-2 {
  float: left;
  width: 63%;
}
.pull-right-1 {
  float: right;
  width: 33%;
}

.pull-left-1 {
  float: left;
  width: 36%;
}
.pull-right-2 {
  float: right;
  width: 60%;
}

.pull-left-3 {
  float: left;
  width: 55%;
}
.pull-right-3 {
  float: right;
  width: 41%;
}


/* use to position text at the bottom */
.pull-down {
  position: absolute;
  bottom: 50px;
}

/* Change default inverse background colour */

/*
.inverse {
  background-color: #0148A4;
  text-shadow: 0 0 20px #333;
}
*/

.inverse {
 /* background-image: url(fig/img.jpg);*/
  border-image: 0px none;
  background-size: cover;
  border-top: 0px solid #FAFAFA;
  font-size: 20px;
  font-weight: 300;
  line-height: 1.5;
  padding: 1em 2em 1em 2em;
  text-align: center;
}


.inverse .remark-slide-number {
  display: none;
}
/* background colour classes */
.sydney-blue {
  background-color: #0148A4;
  color: white;
}
.sydney-yellow {
  background-color: #FFB800;
}
.sydney-red {
  background-color: #e64626;
  color: white;
}
/* segue */
.segue {
  text-align:center;
  vertical-align: middle;
  background-color: #0148A4;
  color: #ffffff;
  text-shadow: 0 0 20px #333;
}
.segue .remark-slide-number {
  display: none;
}

.segue-red {
  text-align:center;
  vertical-align: middle;
  background-color: #e64626;
  color: #ffffff;
  text-shadow: 0 0 20px #333;
}
.segue-red .remark-slide-number {
  display: none;
}

.segue-yellow {
  text-align:center;
  vertical-align: middle;
  background-color: #FFB800;
  color: #424242;
  text-shadow: 0 0 2px #333;
}
.segue-yellow .remark-slide-number {
  display: none;
}

/* example slide with background colour to distinguish
it from other content slides */
.eg {
  background-color: #F1F1F1;
  /* rgb(231, 238, 242); */
}
.eg.nobackground {
  background-color:white;
}

/* link colour */
a {
    color: #0148A4;
}

.columns-2 {
  -webkit-columns: 2;
  -moz-columns: 2;
  columns: 2;
  -webkit-column-gap: 1em;
  -moz-column-gap: 1em;
  column-gap: 1em;
}

.columns-21 {
  -webkit-columns: 66%, 33%;
  -moz-columns: 66%, 33%;
  columns: 66%, 33%;
  -webkit-column-gap: 1em;
  -moz-column-gap: 1em;
  column-gap: 1em;
}

/******************
 * Slide scrolling
 * (non-functional)
 * not sure if it is a good idea anyway
slides > slide {
  overflow: scroll;
 padding: 5px 40px;
}
.scrollable-slide .remark-slide {
  height: 400px;
  overflow: scroll !important;
}
 ******************/

.scroll-box-8 {
  height:8em;
  overflow-y: scroll;
}
.scroll-box-10 {
  height:10em;
  overflow-y: scroll;
}
.scroll-box-12 {
  height:12em;
  overflow-y: scroll;
}
.scroll-box-14 {
  height:14em;
  overflow-y: scroll;
}
.scroll-box-16 {
  height:16em;
  overflow-y: scroll;
}
.scroll-box-18 {
  height:18em;
  overflow-y: scroll;
}
.scroll-box-20 {
  height:20em;
  overflow-y: scroll;
}
.scroll-output {
  height: 90%;
  overflow-y: scroll;
}




 /* inline code background */
 .remark-inline-code {
   /* until the link between code and mathjax
   is broken, we need to use transparent */
  background: transparent; /* #F5F5F5; /* lighter */
  /* background: #e7e8e2; /* darker */
  border-radius: 3px;
  padding: 2px;
}



/******************
 * Coloured content boxes
 ****************/
.content-box {
    box-sizing: border-box;
    background-color: #e2e2e2;
}
.content-box-blue,
.content-box-gray,
.content-box-grey,
.content-box-army,
.content-box-green,
.content-box-purple,
.content-box-red,
.content-box-yellow {
  box-sizing: border-box;
  border-radius: 15px;
  margin: 0 0 15px;
  overflow: hidden;
  padding: 0px 20px 0px 20px;
  width: 100%;
}
.content-box-blue { background-color: #F0F8FF; }
.content-box-gray { background-color: #e2e2e2; }
.content-box-grey {	background-color: #F5F5F5; }
.content-box-army {	background-color: #737a36; }
.content-box-green { background-color: #d9edc2; }
.content-box-purple { background-color: #e2e2f9; }
.content-box-red { background-color: #ffcccc; }
.content-box-yellow { background-color: #fef5c4; }
.content-box-blue .remark-inline-code,
.content-box-blue .remark-inline-code,
.content-box-gray .remark-inline-code,
.content-box-grey .remark-inline-code,
.content-box-army .remark-inline-code,
.content-box-green .remark-inline-code,
.content-box-purple .remark-inline-code,
.content-box-red .remark-inline-code,
.content-box-yellow .remark-inline-code {
  background: none;
}

.full-width {
    display: flex;
    width: 100%;
    flex: 1 1 auto;
}



/***********
 Changed CSS
 **************/

.opacity{ opacity: 0.5; }
.blur {
    -webkit-filter: blur(5px);
    -moz-filter: blur(10px);
    -o-filter: blur(5px);
    -ms-filter: blur(5px);
    filter: blur(5px);
}
.grayscale img {
    -webkit-filter: grayscale(100%); /* Safari 6.0 - 9.0 */
    filter: grayscale(100%);
}

/**************
 * Fancy stuff
 **************/
.rotate-left {
    -webkit-transform: rotate(-2deg);
    -moz-transform: rotate(-2deg);
    transform: rotate(-2deg);
}
.rotate-right {
    -webkit-transform: rotate(2deg);
    -moz-transform: rotate(2deg);
    transform: rotate(2deg);
}
/**********
 * Image stuff
 ************/
.polaroid img {
    border: 10px solid #fff;
    border-bottom: 45px solid #fff;
    -webkit-box-shadow: 3px 3px 3px #111;
    -moz-box-shadow: 3px 3px 3px #111;
    box-shadow: 3px 3px 3px #111;
}
.shadow {
    -moz-border-radius: 5px;
    -moz-box-shadow: 5px 5px 5px #aaa;
    -webkit-box-shadow: 5px 5px 5px #aaa;
    box-shadow: 5px 5px 5px #aaa;
    border-radius: 2px;
}


/* disable background colour when printing */

@page { margin: 0; }
@media print {
  .inverse, .segue, .segue-yellow, .segue-red, .sydney-blue,
  .sydney-yellow, .sydney-red {
    background-color: transparent;
    color: black;
    text-shadow: none;
  }
  .inverse h1, .inverse h2, .inverse h3, .inverse h4, .inverse h5, .segue {
    background-color: transparent;
    color: black;
    text-shadow: none;
  }
  .eg {
    background-color: transparent;
  }
  .remark-slide-scaler {
    width: 100% !important;
    height: 100% !important;
    transform: scale(1) !important;
    top: 0 !important;
    left: 0 !important;
  }
}



/*~~~~~~~~~~~~~~~~*/
/* USYD additions */
/*~~~~~~~~~~~~~~~~*/

/* Title slide */
/* Add image and change bg color
.title-slide {
  background-image: url(USydLogo-black.svg), url("title-image.jpg");
  /* background-image: url(https://sydney.edu.au/etc/designs/corporate-commons/bower_components/corporate-frontend/dist/assets/img/USydLogo.svg); */
  /*
  background-position: 10% 90%, 100% 50%;
  background-size: 160px, 50% 100%;
  background-color: #e64626;
  /*padding-left: 100px;   delete this for 4:3 aspect ratio */
/*
}
*/

.title-slide {
  background-image: url(fig/img.jpg);
  /* background-image: url(https://sydney.edu.au/etc/designs/corporate-commons/bower_components/corporate-frontend/dist/assets/img/USydLogo.svg); */
  background-position: 10% 90%;
  background-size: cover;
  background-color: #e64626;
  text-align:right;
  vertical-align: top;
  /*text-shadow: none;*/
  border-image: 0px none;
  border-top: 0px solid #FAFAFA;
  text-shadow: 0 0 5px #333;
  /*padding-left: 100px;   delete this for 4:3 aspect ratio */
}

/*Modifica o slide de titulo*/
h1 {
  font-weight: normal;
  margin-top: -95px;
  margin-left: -00px;
  color: #ffffff;
  padding-top: -15px;
}

h2, h3, h4 {
  padding-top: -15px;
  padding-bottom: 00px;
  color: #000000;
  text-shadow: none;
  font-weight: 400;
  text-align: left;
  margin-left: 00px;
  margin-bottom: 0px;
}


/* H1 fonts  */
/*
.title-slide h1 {
  color: #ffffff;
  font-weight: normal;
  font-size: 45px;
  padding: 20px;
  text-align: left;
  vertical-align: middle;
  margin-bottom: 18px;
}
*/

.title-slide h1  {
  color: #ffffff;
  font-size: 50px;
  text-shadow: none;
  font-weight: 350;
  text-align: right;
  margin-left: 15px;
  margin-top: -15px;
  padding-top: -15px;
}


/* H2 fonts */

/*
.title-slide h2 {
  color: black !important; /* first of type is master brand red
  font-size: 35px;
  padding-left: 20px;
  padding-bottom: 10px;
  margin-top: 0px;
  text-align: left;
  vertical-align: middle;
}
*/

.title-slide h2  {
  margin-top: -40px;
  padding-bottom: -20px;
  color: #ffffff;
  text-shadow: none;
  font-weight: 250;
  font-size: 30px;
  text-align: right;
  margin-left: 15px;
}


/* H3 fonts */

/*
.title-slide h3 {
  font-size: 28px;
  font-weight: normal;
  color: black;
  padding-left: 20px;
  margin: 0px;
  line-height: 1;
  text-align: left;
  vertical-align: middle;
}
*/

.title-slide h3  {
  color: #ffffff;
  text-shadow: none;
  font-weight: 300;
  font-size: 25px;
  text-align: right;
  margin-left: 15px;
  margin-bottom: -30px;
}

.title-slide h4  {
  color: #ffffff;
  text-shadow: none;
  font-weight: 200;
  font-size: 15px;
  text-align: left;
  margin-left: 15px;
  margin-bottom: -30px;
}

/* Remove slide count */
.title-slide .remark-slide-number {
  display: none;
}

/* USYD blockquote */
blockquote, .blockquote {
  display: block;
  margin-top: 1.5em;
  margin-bottom: 1.5em;
  margin-left: 5px;
  margin-right: 5px;
  border-left: solid 10px #0148A4;
  border-top: solid 2px #0148A4;
  border-bottom: solid 2px #0148A4;
  border-right: solid 2px #0148A4;
  box-shadow: 0 0 6px rgba(0,0,0,0.5);
  /* background-color: #e64626; */
  color: #000000;
  padding: 0.5em;
  -moz-border-radius: 5px;
  -webkit-border-radius: 5px;
}

.blockquote p {
  margin-top: 0px;
  margin-bottom: 5px;
}
.blockquote > h1:first-of-type {
  margin-top: 0px;
  margin-bottom: 5px;
}
.blockquote > h2:first-of-type {
  margin-top: 0px;
  margin-bottom: 5px;
}
.blockquote > h3:first-of-type {
  margin-top: 0px;
  margin-bottom: 5px;
}
.blockquote > h4:first-of-type {
  margin-top: 0px;
  margin-bottom: 5px;
}

.text-shadow {
  text-shadow: 0 0 4px #424242;
}

/* if wanted to change mathjax formatting
.remark-inline-code .mjx-chtml {
  color: blue;
}
*/

/* References: many customisations adapted from the examples here:
https://github.com/yihui/xaringan/tree/master/inst/rmarkdown/templates/xaringan/resources
*/



/*
Masterbrand charcoal #424242;
C=0 M=0 Y=0 K=90
R=66 G=66 B=66
Masterbrand red #e64626;
C=0 M=0 Y=0 K=90
R=66 G=66 B=66
Masterbrand white #ffffff;
C=0 M=0 Y=0 K=0
R=255 G=255 B=255
Masterbrand black #000000;
C=0 M=0 Y=0 K=100
R=10 G=10 B=10
Accent yellow #FFB800
C=0 M=25 Y=98 K=0
R=255 G=184 B=0
Accent blue #0148A4
C=100 M=61 Y=0 K=0
R=1 G=72 B=164
Accent grey - supportive #F1F1F1
C=0 M=0 Y=0 K=10
R=241 G=241 B=241
*/

</style>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
